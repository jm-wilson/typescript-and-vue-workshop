import{d as U,a as w,c as f,o as d,b as u,e as s,t as D,n as q,r as E,f as _,g as k,w as b,v as M,h as T,i as S,F as g,j as $,u as y,k as x,l as P,m as W,p as F,q as L,s as j}from"./index-D_guU0OG.js";import{v as A,s as K,d as O,S as z}from"./constants-OWdv0zi1.js";const G=U("DishStore",{state:()=>({list:[{id:"7d9f3f17-964a-4e82-98e5-ecbba4d709a1",name:"Ghost Pepper Poppers",status:"Want to Try"},{id:"5c986b74-fa02-4a22-98f2-b1ff3559e85e",name:"A Little More Chowder Now",status:"Recommended"},{id:"c113411d-1589-414f-a283-daf7eedb631e",name:"Full Laptop Battery",status:"Do Not Recommend"}]}),getters:{numberOfDishes:o=>o.list.length},actions:{addDish(o){this.list.push(o)},deleteDish(o){this.list=this.list.filter(n=>n.id!==o.id)},updateDish(o){const n=this.list.findIndex(a=>a.id===o.id);n>-1&&(this.list[n]=o)}}}),H={class:"box"},J={class:"media"},Q={class:"media-content"},X={class:"title is-4 is-spaced mb-1"},Y={class:"subtitle mb-2"},Z=w({__name:"DishCard",props:{dish:{}},emits:["edit-dish","delete-dish"],setup(o,{emit:n}){const a=o,h=n,p=f(()=>{switch(a.dish.status){case"Want to Try":return"is-warning";case"Recommended":return"is-success";case"Do Not Recommend":return"is-danger";default:return""}}),m=()=>{h("edit-dish",a.dish)},e=()=>{h("delete-dish",a.dish)};return(r,l)=>(d(),u("article",H,[s("div",J,[l[0]||(l[0]=s("aside",{class:"media-left"},[s("img",{src:"https://placehold.jp/150x150.png",alt:""})],-1)),s("div",Q,[s("p",X,D(r.dish.name),1),s("p",Y,[s("span",{class:q(["tag",p.value])},D(r.dish.status),3)]),s("div",null,[s("button",{onClick:m,class:"button is-small is-warning is-light mr-2"},"Edit"),s("button",{onClick:e,class:"button is-small is-danger is-light"},"Delete")])])])]))}}),ss={class:"field"},es={class:"field"},ts={class:"control"},is=w({__name:"NewDishForm",emits:["add-new-dish","cancel-new-dish"],setup(o,{emit:n}){const a=n,h=()=>a("add-new-dish",m),p=()=>a("cancel-new-dish"),m=E({id:A(),name:"",status:"Want to Try",diet:""}),e=_(null);return k(()=>{var r;(r=e.value)==null||r.focus()}),(r,l)=>(d(),u("form",{onSubmit:l[1]||(l[1]=T(()=>{},["prevent"]))},[s("div",ss,[s("div",es,[l[2]||(l[2]=s("label",{for:"name",class:"label"},"Name",-1)),s("div",ts,[b(s("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>m.name=t),type:"text",class:"input is-large",placeholder:"Mystery Flavored Shrimp",required:"",ref_key:"elNameInput",ref:e},null,512),[[M,m.name]])])]),s("div",{class:"field"},[s("div",{class:"buttons"},[s("button",{onClick:h,class:"button is-success"},"Create"),s("button",{onClick:p,class:"button is-light"},"Cancel")])])])],32))}}),ns={class:"field"},ls={class:"field"},os={class:"control"},as=["placeholder"],ds={class:"field mb-5"},cs={class:"select"},us=["value"],rs={class:"field mb-5"},hs={class:"select"},ms=["value"],ps=w({__name:"EditDishForm",props:{dish:{}},emits:["update-dish","cancel-edit-dish"],setup(o,{emit:n}){const a=o,h=n,p=()=>h("update-dish",e),m=()=>h("cancel-edit-dish"),e=E({...a.dish}),r=_(null);return k(()=>{var l;(l=r.value)==null||l.focus()}),(l,t)=>(d(),u("form",{onSubmit:t[3]||(t[3]=T(()=>{},["prevent"]))},[s("div",ns,[s("div",ls,[t[4]||(t[4]=s("label",{for:"name",class:"label"},"Name",-1)),s("div",os,[b(s("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>e.name=i),type:"text",class:"input is-large",placeholder:a.dish.name,required:"",ref_key:"elNameInput",ref:r},null,8,as),[[M,e.name]])])]),s("div",ds,[t[5]||(t[5]=s("label",{for:"status",class:"label"},"Status",-1)),s("div",cs,[b(s("select",{"onUpdate:modelValue":t[1]||(t[1]=i=>e.status=i),id:"status"},[(d(!0),u(g,null,$(y(K),i=>(d(),u("option",{value:i,key:`option-${i}`},D(i),9,us))),128))],512),[[S,e.status]])])]),s("div",rs,[t[6]||(t[6]=s("label",{for:"status",class:"label"},"Diet",-1)),s("div",hs,[b(s("select",{"onUpdate:modelValue":t[2]||(t[2]=i=>e.diet=i),id:"diet"},[(d(!0),u(g,null,$(y(O),i=>(d(),u("option",{value:i,key:`option-${i}`},D(i),9,ms))),128))],512),[[S,e.diet]])])]),s("div",{class:"field"},[s("div",{class:"buttons"},[s("button",{onClick:p,class:"button is-success"},"Save"),s("button",{onClick:m,class:"button is-light"},"Cancel")])])])],32))}}),vs={class:"section"},fs={class:"columns"},_s={class:"column"},Ds={key:0,class:"level"},bs={class:"level-left"},ws={class:"level-item"},gs={class:"subtitle is-5"},$s={class:"level-item is-hidden-tablet-only"},ys={class:"field has-addons"},ks={class:"control"},Cs={key:3,class:"columns is-multiline"},xs=w({__name:"DishesPage",setup(o){const n=G(),a=_(""),h=c=>{c.target instanceof HTMLInputElement&&(a.value=c.target.value)},p=f(()=>n.list.filter(c=>c.name?c.name.toLowerCase().includes(a.value.toLowerCase()):n.list)),m=f(()=>p.value.length),e=_("none"),r=f(()=>e.value==="none"),l=f(()=>e.value==="new"),t=f(()=>e.value==="edit"),i=_(null),V=c=>{i.value=c,e.value="edit"},I=c=>{n.updateDish(c),i.value=null,e.value="none"},B=()=>{e.value="new"},R=c=>{n.addDish(c),e.value="none"},C=()=>{e.value="none"};return k(()=>{j().query.new&&(e.value="new")}),(c,v)=>(d(),u("main",vs,[s("div",fs,[x(z),s("div",_s,[v[2]||(v[2]=s("h1",{class:"title"},"Dishes",-1)),r.value?(d(),u("nav",Ds,[s("div",bs,[s("div",ws,[s("p",gs,[s("strong",null,D(m.value),1),v[0]||(v[0]=P(" dishes "))])]),s("p",{class:"level-item"},[s("button",{onClick:B,class:"button is-success"},"New")]),s("div",$s,[s("div",ys,[s("p",ks,[s("input",{class:"input",type:"text",placeholder:"Dish name",onKeyup:W(h,["enter"])},null,32)]),v[1]||(v[1]=s("p",{class:"control"},[s("button",{class:"button"},"Search")],-1))])])])])):F("",!0),l.value?(d(),L(is,{key:1,onAddNewDish:R,onCancelNewDish:C})):F("",!0),t.value&&i.value?(d(),L(ps,{key:2,dish:i.value,onUpdateDish:I,onCancelEditDish:C},null,8,["dish"])):(d(),u("div",Cs,[(d(!0),u(g,null,$(p.value,N=>(d(),u("div",{class:"column is-full",key:`item-${N}`},[x(Z,{dish:N,onEditDish:V,onDeleteDish:y(n).deleteDish},null,8,["dish","onDeleteDish"])]))),128))]))])])]))}});export{xs as default};
